# ğŸ“š MZZDXä¹¦åŸ - ç°ä»£åŒ–åœ¨çº¿å›¾ä¹¦å•†åŸç³»ç»Ÿ

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

MZZDXä¹¦åŸæ˜¯ä¸€ä¸ªåŸºäºGoè¯­è¨€å¼€å‘çš„ç°ä»£åŒ–åœ¨çº¿å›¾ä¹¦å•†åŸç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæä¾›å®Œæ•´çš„å›¾ä¹¦æµè§ˆã€æœç´¢ã€è´­ç‰©è½¦ã€æ”¶è—ã€è®¢å•ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚ç³»ç»Ÿè®¾è®¡æ³¨é‡ç”¨æˆ·ä½“éªŒï¼Œæ”¯æŒå“åº”å¼å¸ƒå±€ï¼Œé€‚é…å¤šç§è®¾å¤‡è®¿é—®ã€‚

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

-   **ğŸ“– å›¾ä¹¦ç®¡ç†**: æ”¯æŒå›¾ä¹¦åˆ†ç±»ã€æœç´¢ã€è¯¦æƒ…å±•ç¤º
-   **ğŸ›’ è´­ç‰©è½¦ç³»ç»Ÿ**: æœ¬åœ°å­˜å‚¨ï¼Œæ”¯æŒæ•°é‡è°ƒæ•´å’ŒæŒä¹…åŒ–
-   **ğŸ’³ è®¢å•ç®¡ç†**: å®Œæ•´çš„ä¸‹å•ã€æ”¯ä»˜ã€è®¢å•å†å²æµç¨‹
-   **ğŸ‘¤ ç”¨æˆ·ç³»ç»Ÿ**: æ³¨å†Œã€ç™»å½•ã€ä¸ªäººèµ„æ–™ç®¡ç†
-   **â¤ï¸ æ”¶è—åŠŸèƒ½**: ç”¨æˆ·å¯æ”¶è—å–œæ¬¢çš„å›¾ä¹¦
-   **ğŸ¨ è½®æ’­å±•ç¤º**: åŠ¨æ€è½®æ’­å›¾å±•ç¤ºæ¨èå†…å®¹
-   **ğŸ“± å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
-   **ğŸ‘‘ ç®¡ç†å‘˜ç³»ç»Ÿ**: å®Œæ•´çš„åå°ç®¡ç†åŠŸèƒ½

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯          | ç‰ˆæœ¬      | ç”¨é€”           |
| ------------- | --------- | -------------- |
| **Go**        | 1.24+     | ä¸»è¦å¼€å‘è¯­è¨€   |
| **Gin**       | 1.9+      | Webæ¡†æ¶        |
| **GORM**      | 1.25+     | ORMæ¡†æ¶        |
| **MySQL**     | 5.7+      | ä¸»æ•°æ®åº“       |
| **Redis**     | 7.2.0+    | ç¼“å­˜æ•°æ®åº“     |
| **Nginx**     | 1.21.0+   | ä»£ç†æœåŠ¡å™¨     |
| **JWT**       | -         | ç”¨æˆ·è®¤è¯       |
| **Validator** | -         | å‚æ•°éªŒè¯       |

## ğŸ“‹ åŠŸèƒ½æ¨¡å—

### 1. ç”¨æˆ·ç®¡ç†æ¨¡å—
-   ç”¨æˆ·æ³¨å†Œä¸ç™»å½•
-   JWT Tokenè®¤è¯
-   ä¸ªäººèµ„æ–™ç®¡ç†
-   å¯†ç ä¿®æ”¹

### 2. å›¾ä¹¦ç®¡ç†æ¨¡å—
-   å›¾ä¹¦åˆ—è¡¨å±•ç¤º
-   åˆ†ç±»ç­›é€‰
-   æœç´¢åŠŸèƒ½ï¼ˆæ¨¡ç³ŠåŒ¹é…ï¼‰
-   å›¾ä¹¦è¯¦æƒ…é¡µ
-   çƒ­é”€å›¾ä¹¦æ¨è
-   æ–°ä¹¦ä¸Šæ¶å±•ç¤º

### 3. è´­ç‰©è½¦æ¨¡å—
-   æ·»åŠ /åˆ é™¤å•†å“
-   æ•°é‡è°ƒæ•´
-   æœ¬åœ°å­˜å‚¨æŒä¹…åŒ–
-   ä»·æ ¼è®¡ç®—

### 4. è®¢å•ç®¡ç†æ¨¡å—
-   è®¢å•åˆ›å»º
-   è®¢å•æ”¯ä»˜
-   è®¢å•å†å²æŸ¥è¯¢
-   è®¢å•çŠ¶æ€ç®¡ç†

### 5. æ”¶è—åŠŸèƒ½æ¨¡å—
-   æ”¶è—/å–æ¶ˆæ”¶è—
-   æ”¶è—åˆ—è¡¨å±•ç¤º
-   æ”¶è—æ•°é‡ç»Ÿè®¡

### 6. ç®¡ç†å‘˜åŠŸèƒ½æ¨¡å—
-   **ä»ªè¡¨ç›˜**: ç»Ÿè®¡å¡ç‰‡ã€æœ€è¿‘å›¾ä¹¦ã€ç³»ç»Ÿè¿›åº¦ã€å¿«é€Ÿæ“ä½œ
-   **å›¾ä¹¦ç®¡ç†**: å›¾ä¹¦åˆ—è¡¨ã€å¢åˆ æ”¹æŸ¥ã€ä¸Šä¸‹æ¶æ“ä½œ
-   **åˆ†ç±»ç®¡ç†**: åˆ†ç±»åˆ—è¡¨ã€å¢åˆ æ”¹æŸ¥ã€çŠ¶æ€ç®¡ç†
-   **è®¢å•ç®¡ç†**: è®¢å•åˆ—è¡¨æŸ¥çœ‹ã€çŠ¶æ€ç®¡ç†ã€è¯¦æƒ…æŸ¥çœ‹
-   **ç”¨æˆ·ç®¡ç†**: ç”¨æˆ·åˆ—è¡¨æŸ¥çœ‹ã€çŠ¶æ€ç®¡ç†ã€è¯¦æƒ…æŸ¥çœ‹

## ğŸ¨ è®¾è®¡ç‰¹è‰²

### åœ†è§’è®¾è®¡
-   æ‰€æœ‰æŒ‰é’®é‡‡ç”¨åœ†è§’è®¾è®¡ (`border-radius: 6px/8px`)
-   è¾“å…¥æ¡†ã€é€‰æ‹©å™¨ç»Ÿä¸€åœ†è§’é£æ ¼
-   å¡ç‰‡ã€æ¨¡æ€æ¡†é‡‡ç”¨åœ†è§’è®¾è®¡
-   æ ‡ç­¾å’Œè¿›åº¦æ¡ä¹Ÿé‡‡ç”¨åœ†è§’

### ç°ä»£åŒ–UI
-   æ¸å˜æŒ‰é’®æ•ˆæœ
-   é˜´å½±å’Œè¿‡æ¸¡åŠ¨ç”»
-   ä¼˜é›…çš„åŠ è½½çŠ¶æ€
-   å‹å¥½çš„é”™è¯¯æç¤º

### ç”¨æˆ·ä½“éªŒ
-   ç›´è§‚çš„æ“ä½œç•Œé¢
-   æ¸…æ™°çš„ä¿¡æ¯å±‚çº§
-   å‹å¥½çš„é”™è¯¯æç¤º
-   æµç•…çš„äº¤äº’ä½“éªŒ

## ğŸ”— APIæ¥å£

### åŸºç¡€ä¿¡æ¯

-   **Base URL**: `http://localhost:8080` (ç”¨æˆ·ç«¯), `http://localhost:8081` (ç®¡ç†å‘˜ç«¯)
-   **API Version**: `v1`
-   **Content-Type**: `application/json`
-   **è®¤è¯æ–¹å¼**: JWT Token (Bearer Token)

### å“åº”æ ¼å¼

æ‰€æœ‰APIå“åº”éƒ½éµå¾ªç»Ÿä¸€çš„JSONæ ¼å¼ï¼š

```json
{
  "code": 0,            // çŠ¶æ€ç ï¼š0è¡¨ç¤ºæˆåŠŸï¼Œ-1è¡¨ç¤ºå¤±è´¥
  "message": "success", // å“åº”æ¶ˆæ¯
  "data": {}            // å“åº”æ•°æ®
}
```

### ç®¡ç†å‘˜API (ç«¯å£: 8081)

#### å›¾ä¹¦ç®¡ç†
-   `GET /api/v1/admin/books/list` - è·å–å›¾ä¹¦åˆ—è¡¨
-   `GET /api/v1/admin/books/:id` - è·å–å›¾ä¹¦è¯¦æƒ…
-   `POST /api/v1/admin/books/create` - åˆ›å»ºå›¾ä¹¦
-   `PUT /api/v1/admin/books/:id` - æ›´æ–°å›¾ä¹¦
-   `DELETE /api/v1/admin/books/:id` - åˆ é™¤å›¾ä¹¦
-   `PUT /api/v1/admin/books/:id/status` - æ›´æ–°å›¾ä¹¦çŠ¶æ€

#### åˆ†ç±»ç®¡ç†
-   `GET /api/v1/admin/categories/list` - è·å–åˆ†ç±»åˆ—è¡¨
-   `POST /api/v1/admin/categories/create` - åˆ›å»ºåˆ†ç±»
-   `PUT /api/v1/admin/categories/:id` - æ›´æ–°åˆ†ç±»
-   `DELETE /api/v1/admin/categories/:id` - åˆ é™¤åˆ†ç±»

#### è®¢å•ç®¡ç†
-   `GET /api/v1/admin/orders/list` - è·å–è®¢å•åˆ—è¡¨
-   `GET /api/v1/admin/orders/:id` - è·å–è®¢å•è¯¦æƒ…
-   `PUT /api/v1/admin/orders/:id/status` - æ›´æ–°è®¢å•çŠ¶æ€

#### ç”¨æˆ·ç®¡ç†
-   `GET /api/v1/admin/users/list` - è·å–ç”¨æˆ·åˆ—è¡¨
-   `GET /api/v1/admin/users/:id` - è·å–ç”¨æˆ·è¯¦æƒ…
-   `PUT /api/v1/admin/users/:id/status` - æ›´æ–°ç”¨æˆ·çŠ¶æ€

### ç”¨æˆ·ç«¯API (ç«¯å£: 8080)

#### è®¤è¯ç›¸å…³
-   `POST /api/v1/user/register` - ç”¨æˆ·æ³¨å†Œ
-   `POST /api/v1/user/login` - ç”¨æˆ·ç™»å½•
-   `GET /api/v1/user/profile` - è·å–ç”¨æˆ·ä¿¡æ¯

#### å›¾ä¹¦ç›¸å…³
-   `GET /api/v1/book/list` - è·å–å›¾ä¹¦åˆ—è¡¨
-   `GET /api/v1/book/search` - æœç´¢å›¾ä¹¦
-   `GET /api/v1/book/detail/{id}` - è·å–å›¾ä¹¦è¯¦æƒ…
-   `GET /api/v1/book/category/{category}` - è·å–åˆ†ç±»å›¾ä¹¦
-   `GET /api/v1/book/hot` - è·å–çƒ­é”€å›¾ä¹¦
-   `GET /api/v1/book/new` - è·å–æ–°ä¹¦

#### è®¢å•ç›¸å…³
-   `POST /api/v1/order/create` - åˆ›å»ºè®¢å•
-   `GET /api/v1/order/list` - è·å–è®¢å•åˆ—è¡¨
-   `POST /api/v1/order/{id}/pay` - æ”¯ä»˜è®¢å•

#### æ”¶è—ç›¸å…³
-   `POST /api/v1/favorite/add` - æ·»åŠ æ”¶è—
-   `DELETE /api/v1/favorite/remove` - å–æ¶ˆæ”¶è—
-   `GET /api/v1/favorite/list` - è·å–æ”¶è—åˆ—è¡¨
-   `GET /api/v1/favorite/count` - è·å–æ”¶è—æ•°é‡

#### å…¶ä»–æ¥å£
-   `GET /api/v1/carousel/list` - è·å–è½®æ’­å›¾åˆ—è¡¨
-   `GET /api/v1/category/list` - è·å–åˆ†ç±»åˆ—è¡¨
-   `GET /api/v1/captcha/generate` - ç”ŸæˆéªŒè¯ç 

## ğŸ“š MZZDXä¹¦åŸ API æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº†MZZDXä¹¦åŸç³»ç»Ÿçš„æ‰€æœ‰APIæ¥å£ï¼ŒåŒ…æ‹¬è¯·æ±‚æ–¹æ³•ã€å‚æ•°ã€å“åº”æ ¼å¼å’Œç¤ºä¾‹ã€‚

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8080`
- **API Version**: `v1`
- **Content-Type**: `application/json`
- **è®¤è¯æ–¹å¼**: JWT Token (Bearer Token)

### å“åº”æ ¼å¼

æ‰€æœ‰APIå“åº”éƒ½éµå¾ªç»Ÿä¸€çš„JSONæ ¼å¼ï¼š

```json
{
  "code": 0,            // çŠ¶æ€ç ï¼š0è¡¨ç¤ºæˆåŠŸï¼Œ-1è¡¨ç¤ºå¤±è´¥
  "message": "success", // å“åº”æ¶ˆæ¯
  "data": {}            // å“åº”æ•°æ®
}
```

## ğŸ” è®¤è¯ç›¸å…³

### ç”¨æˆ·æ³¨å†Œ

**æ¥å£**: `POST /api/v1/user/register`

**è¯·æ±‚å‚æ•°**:
```json
{
  "username": "testuser",
  "password": "123456",
  "confirm_password": "123456",
  "email": "test@example.com",
  "phone": "12345678901",
  "captcha_id": "captcha_id",
  "captcha_value": "1234"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "æ³¨å†ŒæˆåŠŸ"
}
```

### ç”¨æˆ·ç™»å½•

**æ¥å£**: `POST /api/v1/user/login`

**è¯·æ±‚å‚æ•°**:
```json
{
  "username": "testuser",
  "password": "123456",
  "captcha_id": "captcha_id",
  "captcha_value": "1234"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "username": "testuser",
      "email": "test@example.com",
      "phone": "12345678901",
      "avatar": "https://example.com/avatar.jpg",
      "is_admin": false
    }
  }
}
```

### è·å–ç”¨æˆ·ä¿¡æ¯

**æ¥å£**: `GET /api/v1/user/profile`

**è¯·æ±‚å¤´**: `Authorization: Bearer {token}`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "è·å–ç”¨æˆ·ä¿¡æ¯æˆåŠŸ",
  "data": {
    "id": 1,
    "username": "testuser",
    "email": "test@example.com",
    "phone": "12345678901",
    "avatar": "https://example.com/avatar.jpg",
    "is_admin": false,
    "created_at": "2024-01-01T10:00:00Z"
  }
}
```

## ğŸ“– å›¾ä¹¦ç›¸å…³

### è·å–å›¾ä¹¦åˆ—è¡¨

**æ¥å£**: `GET /api/v1/book/list`

**æŸ¥è¯¢å‚æ•°**:
- `page`: é¡µç  (é»˜è®¤: 1)
- `page_size`: æ¯é¡µæ•°é‡ (é»˜è®¤: 12)

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "è·å–å›¾ä¹¦åˆ—è¡¨æˆåŠŸ",
  "data": {
    "books": [
      {
        "id": 1,
        "title": "ä¸‰ä½“",
        "author": "åˆ˜æ…ˆæ¬£",
        "price": 5900,
        "discount": 80,
        "type": "ç§‘å¹»",
        "stock": 100,
        "cover_url": "https://example.com/cover.jpg",
        "description": "åœ°çƒæ–‡æ˜ä¸ä¸‰ä½“æ–‡æ˜çš„æ˜Ÿé™…æˆ˜äº‰...",
        "isbn": "9787536692930",
        "publisher": "é‡åº†å‡ºç‰ˆç¤¾",
        "publish_date": "2008-01-01",
        "pages": 302,
        "language": "ä¸­æ–‡",
        "format": "å¹³è£…"
      }
    ],
    "total": 20,
    "total_page": 2,
    "current_page": 1
  }
}
```

### æœç´¢å›¾ä¹¦

**æ¥å£**: `GET /api/v1/book/search`

**æŸ¥è¯¢å‚æ•°**:
- `q`: æœç´¢å…³é”®è¯
- `page`: é¡µç  (é»˜è®¤: 1)
- `page_size`: æ¯é¡µæ•°é‡ (é»˜è®¤: 12)

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "æœç´¢æˆåŠŸ",
  "data": {
    "books": [...],
    "total": 5,
    "total_page": 1,
    "current_page": 1
  }
}
```

### è·å–å›¾ä¹¦è¯¦æƒ…

**æ¥å£**: `GET /api/v1/book/detail/{id}`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "è·å–å›¾ä¹¦è¯¦æƒ…æˆåŠŸ",
  "data": {
    "id": 1,
    "title": "ä¸‰ä½“",
    "author": "åˆ˜æ…ˆæ¬£",
    "price": 5900,
    "discount": 80,
    "type": "ç§‘å¹»",
    "stock": 100,
    "cover_url": "https://example.com/cover.jpg",
    "description": "åœ°çƒæ–‡æ˜ä¸ä¸‰ä½“æ–‡æ˜çš„æ˜Ÿé™…æˆ˜äº‰...",
    "isbn": "9787536692930",
    "publisher": "é‡åº†å‡ºç‰ˆç¤¾",
    "publish_date": "2008-01-01",
    "pages": 302,
    "language": "ä¸­æ–‡",
    "format": "å¹³è£…"
  }
}
```

### è·å–åˆ†ç±»å›¾ä¹¦

**æ¥å£**: `GET /api/v1/book/category/{category}`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "è·å–åˆ†ç±»å›¾ä¹¦æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "title": "ä¸‰ä½“",
      "author": "åˆ˜æ…ˆæ¬£",
      "price": 5900,
      "discount": 80,
      "type": "ç§‘å¹»",
      "stock": 100,
      "cover_url": "https://example.com/cover.jpg"
    }
  ]
}
```

### è·å–çƒ­é”€å›¾ä¹¦

**æ¥å£**: `GET /api/v1/book/hot`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "è·å–çƒ­é”€å›¾ä¹¦æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "title": "ä¸‰ä½“",
      "author": "åˆ˜æ…ˆæ¬£",
      "price": 5900,
      "discount": 80,
      "type": "ç§‘å¹»",
      "stock": 100,
      "cover_url": "https://example.com/cover.jpg"
    }
  ]
}
```

### è·å–æ–°ä¹¦

**æ¥å£**: `GET /api/v1/book/new`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "è·å–æ–°ä¹¦æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "title": "ä¸‰ä½“",
      "author": "åˆ˜æ…ˆæ¬£",
      "price": 5900,
      "discount": 80,
      "type": "ç§‘å¹»",
      "stock": 100,
      "cover_url": "https://example.com/cover.jpg"
    }
  ]
}
```

## ğŸ›’ è®¢å•ç›¸å…³

### åˆ›å»ºè®¢å•

**æ¥å£**: `POST /api/v1/order/create`

**è¯·æ±‚å¤´**: `Authorization: Bearer {token}`

**è¯·æ±‚å‚æ•°**:
```json
{
  "items": [
    {
      "book_id": 1,
      "quantity": 2,
      "price": 4720
    }
  ]
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "åˆ›å»ºè®¢å•æˆåŠŸ",
  "data": {
    "id": 1,
    "user_id": 1,
    "order_no": "ORD202401010001",
    "total_amount": 9440,
    "status": 0,
    "is_paid": false,
    "created_at": "2024-01-01T10:00:00Z",
    "order_items": [
      {
        "id": 1,
        "book_id": 1,
        "quantity": 2,
        "price": 4720,
        "subtotal": 9440,
        "book": {
          "title": "ä¸‰ä½“",
          "author": "åˆ˜æ…ˆæ¬£",
          "cover_url": "https://example.com/cover.jpg"
        }
      }
    ]
  }
}
```

### è·å–è®¢å•åˆ—è¡¨

**æ¥å£**: `GET /api/v1/order/list`

**è¯·æ±‚å¤´**: `Authorization: Bearer {token}`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "è·å–è®¢å•åˆ—è¡¨æˆåŠŸ",
  "data": {
    "orders": [
      {
        "id": 1,
        "order_no": "ORD202401010001",
        "total_amount": 9440,
        "status": 1,
        "is_paid": true,
        "created_at": "2024-01-01T10:00:00Z",
        "payment_time": "2024-01-01T10:05:00Z",
        "order_items": [
          {
            "id": 1,
            "book_id": 1,
            "quantity": 2,
            "price": 4720,
            "subtotal": 9440,
            "book": {
              "title": "ä¸‰ä½“",
              "author": "åˆ˜æ…ˆæ¬£",
              "cover_url": "https://example.com/cover.jpg"
            }
          }
        ]
      }
    ],
    "total": 1,
    "page": 1,
    "page_size": 10,
    "total_pages": 1
  }
}
```

### æ”¯ä»˜è®¢å•

**æ¥å£**: `POST /api/v1/order/{id}/pay`

**è¯·æ±‚å¤´**: `Authorization: Bearer {token}`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "æ”¯ä»˜æˆåŠŸ"
}
```

## â¤ï¸ æ”¶è—ç›¸å…³

### æ·»åŠ æ”¶è—

**æ¥å£**: `POST /api/v1/favorite/add`

**è¯·æ±‚å¤´**: `Authorization: Bearer {token}`

**è¯·æ±‚å‚æ•°**:
```json
{
  "book_id": 1
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "æ·»åŠ æ”¶è—æˆåŠŸ"
}
```

### å–æ¶ˆæ”¶è—

**æ¥å£**: `DELETE /api/v1/favorite/remove`

**è¯·æ±‚å¤´**: `Authorization: Bearer {token}`

**è¯·æ±‚å‚æ•°**:
```json
{
  "book_id": 1
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "å–æ¶ˆæ”¶è—æˆåŠŸ"
}
```

### è·å–æ”¶è—åˆ—è¡¨

**æ¥å£**: `GET /api/v1/favorite/list`

**è¯·æ±‚å¤´**: `Authorization: Bearer {token}`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "è·å–æ”¶è—åˆ—è¡¨æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "user_id": 1,
      "book_id": 1,
      "created_at": "2024-01-01T10:00:00Z",
      "book": {
        "id": 1,
        "title": "ä¸‰ä½“",
        "author": "åˆ˜æ…ˆæ¬£",
        "price": 5900,
        "discount": 80,
        "type": "ç§‘å¹»",
        "stock": 100,
        "cover_url": "https://example.com/cover.jpg"
      }
    }
  ]
}
```

### è·å–æ”¶è—æ•°é‡

**æ¥å£**: `GET /api/v1/favorite/count`

**è¯·æ±‚å¤´**: `Authorization: Bearer {token}`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "è·å–æ”¶è—æ•°é‡æˆåŠŸ",
  "data": {
    "count": 5
  }
}
```

## ğŸ¨ è½®æ’­å›¾ç›¸å…³

### è·å–è½®æ’­å›¾åˆ—è¡¨

**æ¥å£**: `GET /api/v1/carousel/list`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "è·å–è½®æ’­å›¾æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "title": "ç²¾é€‰å¥½ä¹¦æ¨è",
      "description": "å‘ç°æ›´å¤šç²¾å½©å¥½ä¹¦",
      "image_url": "https://example.com/carousel1.jpg",
      "link_url": "/category/æ–‡å­¦",
      "sort_order": 1,
      "is_active": true
    }
  ]
}
```

## ğŸ“‚ åˆ†ç±»ç›¸å…³

### è·å–åˆ†ç±»åˆ—è¡¨

**æ¥å£**: `GET /api/v1/category/list`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "è·å–åˆ†ç±»åˆ—è¡¨æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "ç§‘å¹»",
      "description": "ç§‘å¹»å°è¯´å’Œæœªæ¥ç§‘æŠ€",
      "icon": "ğŸš€",
      "color": "#FF6B6B",
      "gradient": "linear-gradient(135deg, #FF6B6B, #FF8E8E)",
      "sort": 1,
      "is_active": true,
      "book_count": 4
    }
  ]
}
```

## ğŸ” éªŒè¯ç ç›¸å…³

### ç”ŸæˆéªŒè¯ç 

**æ¥å£**: `GET /api/v1/captcha/generate`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "éªŒè¯ç ç”ŸæˆæˆåŠŸ",
  "data": {
    "captcha_id": "3JU9cHTsexsCQymMZvCb",
    "captcha_base64": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAABQCAMAAAAQlwhOAAAA81BMVEUAAAABfHdm4..."
  }
}
```

## âš ï¸ é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | è¯´æ˜                 | HTTPçŠ¶æ€ç å¯¹åº” |
| ------ | -------------------- | -------------- |
| 0      | æˆåŠŸ                 | 200 OK         |
| -1     | å¤±è´¥                 | 400 Bad Request|
| 400    | è¯·æ±‚å‚æ•°é”™è¯¯         | 400 Bad Request|
| 401    | æœªæˆæƒ               | 401 Unauthorized|
| 403    | ç¦æ­¢è®¿é—®             | 403 Forbidden  |
| 404    | èµ„æºä¸å­˜åœ¨           | 404 Not Found  |
| 500    | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯       | 500 Internal Server Error |

## ğŸ“ æ³¨æ„äº‹é¡¹

1.  **è®¤è¯**: éœ€è¦è®¤è¯çš„æ¥å£å¿…é¡»åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«æœ‰æ•ˆçš„JWT Token
2.  **ä»·æ ¼**: æ‰€æœ‰ä»·æ ¼å­—æ®µéƒ½ä»¥åˆ†ä¸ºå•ä½å­˜å‚¨ï¼Œå‰ç«¯æ˜¾ç¤ºæ—¶éœ€è¦é™¤ä»¥100
3.  **åˆ†é¡µ**: åˆ†é¡µæ¥å£æ”¯æŒpageå’Œpage_sizeå‚æ•°
4.  **æ—¶é—´æ ¼å¼**: æ‰€æœ‰æ—¶é—´å­—æ®µä½¿ç”¨ISO 8601æ ¼å¼
5.  **å›¾ç‰‡URL**: å›¾ç‰‡URLéœ€è¦å®Œæ•´çš„HTTPSåœ°å€
6.  **å‚æ•°éªŒè¯**: æ‰€æœ‰è¾“å…¥å‚æ•°éƒ½éœ€è¦è¿›è¡ŒéªŒè¯ï¼Œé˜²æ­¢SQLæ³¨å…¥å’ŒXSSæ”»å‡»
7.  **å®‰å…¨æ€§**: ä½¿ç”¨HTTPSåŠ å¯†ä¼ è¾“æ•°æ®ï¼Œå¯¹æ•æ„Ÿæ•°æ®è¿›è¡ŒåŠ å¯†

## ğŸ”§ å¼€å‘ç¯å¢ƒ

-   **åç«¯æœåŠ¡**: http://localhost:8080
-   **ç®¡ç†å‘˜åç«¯æœåŠ¡**: http://localhost:8081
-   **å‰ç«¯æœåŠ¡**: http://localhost:3000
-   **æ•°æ®åº“**: MySQL 8.0+
-   **ç¼“å­˜æ•°æ®åº“**: Redis 6.0+
-   **APIæµ‹è¯•å·¥å…·**: Postman, curl

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

-   Go 1.21+
-   MySQL 5.7+
-   Redis 6.0+

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://gitee.com/llinfan/bookstore-go
cd bookstore-go
```

### 2. åç«¯é…ç½®

```bash
# å®‰è£…ä¾èµ–
go mod tidy

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯
vim conf/config.yaml

# é…ç½®æ–‡ä»¶ç¤ºä¾‹
server:
  port: 8080        # ç”¨æˆ·ç«¯ç«¯å£
  admin_port: 8081  # ç®¡ç†å‘˜ç«¯å£

database:
  host: 127.0.0.1
  port: 3306
  user: root
  password: your_password
  name: bookstore

redis:
  host: 127.0.0.1
  port: 6379
  password: ""
  db: 0

# åˆå§‹åŒ–æ•°æ®åº“
mysql -u root -p < sql/bookstore.sql
mysql -u root -p < sql/mock.sql

# ç¼–è¯‘æœåŠ¡
make bookstore-manager

# å¯åŠ¨åç«¯æœåŠ¡
./bin/bookstore-manager
```

### 3. è®¿é—®åº”ç”¨

-   **ç”¨æˆ·ç«¯åç«¯API**: http://localhost:8080
-   **ç®¡ç†å‘˜åç«¯API**: http://localhost:8081

## ğŸ“ é¡¹ç›®ç»“æ„

```
bookstore-web/
â”œâ”€â”€ cmd/                    # ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ bookstore-manager/  # ç”¨æˆ·ç«¯æœåŠ¡å…¥å£
â”‚   â””â”€â”€ admin-manager/      # ç®¡ç†å‘˜æœåŠ¡å…¥å£
â”œâ”€â”€ model/                  # æ•°æ®æ¨¡å‹
â”œâ”€â”€ service/                # ä¸šåŠ¡é€»è¾‘å±‚
â”œâ”€â”€ repository/             # æ•°æ®è®¿é—®å±‚
â”œâ”€â”€ web/                    # Webå±‚
â”‚   â”œâ”€â”€ controller/         # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ book.go         # ç”¨æˆ·ç«¯å›¾ä¹¦æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ admin_book.go   # ç®¡ç†å‘˜å›¾ä¹¦æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ admin_order.go  # ç®¡ç†å‘˜è®¢å•æ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ admin_user.go   # ç®¡ç†å‘˜ç”¨æˆ·æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ router.go       # ç”¨æˆ·ç«¯è·¯ç”±
â”‚   â”‚   â””â”€â”€ admin_router.go # ç®¡ç†å‘˜è·¯ç”±
â”‚   â””â”€â”€ middleware/         # ä¸­é—´ä»¶
â”œâ”€â”€ conf/                   # é…ç½®æ–‡ä»¶
â””â”€â”€ sql/                    # æ•°æ®åº“è„šæœ¬
```

## ğŸ”’ å®‰å…¨ç‰¹æ€§

-   **å¯†ç åŠ å¯†**: ä½¿ç”¨bcryptè¿›è¡Œå¯†ç å“ˆå¸Œ
-   **JWTè®¤è¯**: åŸºäºTokençš„æ— çŠ¶æ€è®¤è¯
-   **SQLæ³¨å…¥é˜²æŠ¤**: ä½¿ç”¨GORMå‚æ•°åŒ–æŸ¥è¯¢ï¼Œé¿å…SQLæ³¨å…¥é£é™©
-   **CORSé…ç½®**: ä½¿ç”¨`github.com/rs/cors`ä¸­é—´ä»¶é…ç½®è·¨åŸŸè¯·æ±‚ï¼Œæ”¯æŒç²¾ç¡®çš„åŸŸåæ§åˆ¶
-   **è¾“å…¥éªŒè¯**: ä½¿ç”¨`github.com/go-playground/validator`è¿›è¡Œè¯·æ±‚å‚æ•°ä¸¥æ ¼éªŒè¯
-   **HTTPSæ”¯æŒ**: å¯é€šè¿‡Nginxé…ç½®HTTPSåå‘ä»£ç†ï¼Œä¿éšœæ•°æ®ä¼ è¾“å®‰å…¨

## ğŸ“– å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„ç®¡ç†å‘˜åŠŸèƒ½

1.  **æ·»åŠ æ¨¡å‹å®šä¹‰** (model/)
2.  **æ·»åŠ ä¸šåŠ¡é€»è¾‘** (service/)
3.  **æ·»åŠ æ§åˆ¶å™¨** (web/controller/admin_*.go)
4.  **æ·»åŠ è·¯ç”±** (web/router/admin_router.go)
5.  **æ·»åŠ å‰ç«¯é¡µé¢** (bookstore-admin-frontend/src/pages/)

### å®‰å…¨ç¼–ç¨‹å®è·µ

-   ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢é˜²æ­¢SQLæ³¨å…¥
-   å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œä¸¥æ ¼éªŒè¯å’Œè¿‡æ»¤
-   ä½¿ç”¨ç™½åå•éªŒè¯åˆ—åå’Œè¾“å…¥å€¼
-   é¿å…ç›´æ¥æ‹¼æ¥SQLè¯­å¥

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1.  **é…ç½®ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“**: è®¾ç½®æ­£ç¡®çš„æ•°æ®åº“è¿æ¥å‚æ•°
2.  **è®¾ç½®ç¯å¢ƒå˜é‡**: åŒºåˆ†å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒé…ç½®
3.  **è¿›ç¨‹å®ˆæŠ¤**: ä½¿ç”¨PM2æˆ–systemdç®¡ç†è¿›ç¨‹ï¼Œç¡®ä¿æœåŠ¡æŒç»­è¿è¡Œ
4.  **åå‘ä»£ç†**: é…ç½®Nginxåå‘ä»£ç†å’ŒHTTPSåŠ å¯†
5.  **ç›‘æ§ä¸å®¡è®¡**: è®°å½•æ‰€æœ‰æ•°æ®åº“æ“ä½œï¼Œè®¾ç½®å¼‚å¸¸æŸ¥è¯¢å‘Šè­¦

### ä½¿ç”¨Systemdè¿›è¡Œè¿›ç¨‹å®ˆæŠ¤

åˆ›å»ºserviceæ–‡ä»¶`/etc/systemd/system/bookstore.service`:

```ini
[Unit]
Description=MZZDX Bookstore Service
After=network.target

[Service]
Type=simple
ExecStart=/path/to/bookstore-manager
Restart=always
RestartSec=5s
User=www-data
Group=www-data

[Install]
WantedBy=multi-user.target
```

### Nginx HTTPSé…ç½®ç¤ºä¾‹

```nginx
server {
    listen 443 ssl;
    server_name yourdomain.com;

    ssl_certificate /path/to/your/certificate.crt;
    ssl_certificate_key /path/to/your/private.key;

    location / {
        proxy_pass http://localhost:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    location /admin/ {
        proxy_pass http://localhost:8081;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
```
